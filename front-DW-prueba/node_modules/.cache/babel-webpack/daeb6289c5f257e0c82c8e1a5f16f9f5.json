{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/JS/Desktop/FRONTPRUEBAFACT/git/front/app-facturacion/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { DxFormModule } from 'devextreme-angular/ui/form';\nimport { DxLoadIndicatorModule } from 'devextreme-angular/ui/load-indicator';\nimport notify from 'devextreme/ui/notify';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"devextreme-angular/ui/form\";\nimport * as i4 from \"devextreme-angular/ui/nested\";\nimport * as i5 from \"devextreme-angular/core\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"devextreme-angular/ui/load-indicator\";\n\nfunction ChangePasswordFormComponent_ng_container_11_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"dx-load-indicator\", 13);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"visible\", true);\n  }\n}\n\nfunction ChangePasswordFormComponent_ng_container_11_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Continue\");\n  }\n}\n\nfunction ChangePasswordFormComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"span\", 10);\n    i0.ɵɵtemplate(3, ChangePasswordFormComponent_ng_container_11_ng_container_3_Template, 2, 1, \"ng-container\", 11);\n    i0.ɵɵtemplate(4, ChangePasswordFormComponent_ng_container_11_ng_template_4_Template, 1, 0, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(5);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loading)(\"ngIfElse\", _r3);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    stylingMode: \"filled\",\n    placeholder: \"Password\",\n    mode: \"password\"\n  };\n};\n\nconst _c1 = function () {\n  return {\n    stylingMode: \"filled\",\n    placeholder: \"Confirm Password\",\n    mode: \"password\"\n  };\n};\n\nexport class ChangePasswordFormComponent {\n  constructor(authService, router, route) {\n    this.authService = authService;\n    this.router = router;\n    this.route = route;\n    this.loading = false;\n    this.formData = {};\n    this.recoveryCode = '';\n\n    this.confirmPassword = e => {\n      return e.value === this.formData.password;\n    };\n  }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.recoveryCode = params.get('recoveryCode') || '';\n    });\n  }\n\n  onSubmit(e) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      e.preventDefault();\n      const {\n        password\n      } = _this.formData;\n      _this.loading = true;\n      const result = yield _this.authService.changePassword(password, _this.recoveryCode);\n      _this.loading = false;\n\n      if (result.isOk) {\n        _this.router.navigate(['/login-form']);\n      } else {\n        notify(result.message, 'error', 2000);\n      }\n    })();\n  }\n\n}\n\nChangePasswordFormComponent.ɵfac = function ChangePasswordFormComponent_Factory(t) {\n  return new (t || ChangePasswordFormComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nChangePasswordFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChangePasswordFormComponent,\n  selectors: [[\"app-change-passsword-form\"]],\n  decls: 12,\n  vars: 12,\n  consts: [[3, \"submit\"], [3, \"formData\", \"disabled\"], [\"dataField\", \"password\", \"editorType\", \"dxTextBox\", 3, \"editorOptions\"], [\"type\", \"required\", \"message\", \"Password is required\"], [3, \"visible\"], [\"dataField\", \"confirmedPassword\", \"editorType\", \"dxTextBox\", 3, \"editorOptions\"], [\"type\", \"custom\", \"message\", \"Passwords do not match\", 3, \"validationCallback\"], [\"itemType\", \"button\"], [\"width\", \"100%\", \"type\", \"default\", 3, \"useSubmitBehavior\", \"template\"], [4, \"dxTemplate\", \"dxTemplateOf\"], [1, \"dx-button-text\"], [4, \"ngIf\", \"ngIfElse\"], [\"notLoading\", \"\"], [\"width\", \"24px\", \"height\", \"24px\", 3, \"visible\"]],\n  template: function ChangePasswordFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function ChangePasswordFormComponent_Template_form_submit_0_listener($event) {\n        return ctx.onSubmit($event);\n      });\n      i0.ɵɵelementStart(1, \"dx-form\", 1);\n      i0.ɵɵelementStart(2, \"dxi-item\", 2);\n      i0.ɵɵelement(3, \"dxi-validation-rule\", 3);\n      i0.ɵɵelement(4, \"dxo-label\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"dxi-item\", 5);\n      i0.ɵɵelement(6, \"dxi-validation-rule\", 3);\n      i0.ɵɵelement(7, \"dxi-validation-rule\", 6);\n      i0.ɵɵelement(8, \"dxo-label\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"dxi-item\", 7);\n      i0.ɵɵelement(10, \"dxo-button-options\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, ChangePasswordFormComponent_ng_container_11_Template, 6, 2, \"ng-container\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formData\", ctx.formData)(\"disabled\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"editorOptions\", i0.ɵɵpureFunction0(10, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"visible\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"editorOptions\", i0.ɵɵpureFunction0(11, _c1));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"validationCallback\", ctx.confirmPassword);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"visible\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"useSubmitBehavior\", true)(\"template\", \"changePasswordTemplate\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"dxTemplateOf\", \"changePasswordTemplate\");\n    }\n  },\n  directives: [i3.DxFormComponent, i4.DxiItemComponent, i4.DxiValidationRuleComponent, i4.DxoLabelComponent, i4.DxoButtonOptionsComponent, i5.DxTemplateDirective, i6.NgIf, i7.DxLoadIndicatorComponent],\n  encapsulation: 2\n});\nexport class ChangePasswordFormModule {}\n\nChangePasswordFormModule.ɵfac = function ChangePasswordFormModule_Factory(t) {\n  return new (t || ChangePasswordFormModule)();\n};\n\nChangePasswordFormModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: ChangePasswordFormModule\n});\nChangePasswordFormModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  imports: [[CommonModule, RouterModule, DxFormModule, DxLoadIndicatorModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ChangePasswordFormModule, {\n    declarations: [ChangePasswordFormComponent],\n    imports: [CommonModule, RouterModule, DxFormModule, DxLoadIndicatorModule],\n    exports: [ChangePasswordFormComponent]\n  });\n})();","map":{"version":3,"sources":["C:/Users/JS/Desktop/FRONTPRUEBAFACT/git/front/app-facturacion/src/app/shared/components/change-password-form/change-password-form.component.ts"],"names":["CommonModule","RouterModule","DxFormModule","DxLoadIndicatorModule","notify","i0","i1","i2","i3","i4","i5","i6","i7","ChangePasswordFormComponent_ng_container_11_ng_container_3_Template","rf","ctx","ɵɵelementContainerStart","ɵɵelement","ɵɵelementContainerEnd","ɵɵadvance","ɵɵproperty","ChangePasswordFormComponent_ng_container_11_ng_template_4_Template","ɵɵtext","ChangePasswordFormComponent_ng_container_11_Template","ɵɵelementStart","ɵɵtemplate","ɵɵtemplateRefExtractor","ɵɵelementEnd","_r3","ɵɵreference","ctx_r0","ɵɵnextContext","loading","_c0","stylingMode","placeholder","mode","_c1","ChangePasswordFormComponent","constructor","authService","router","route","formData","recoveryCode","confirmPassword","e","value","password","ngOnInit","paramMap","subscribe","params","get","onSubmit","preventDefault","result","changePassword","isOk","navigate","message","ɵfac","ChangePasswordFormComponent_Factory","t","ɵɵdirectiveInject","AuthService","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ChangePasswordFormComponent_Template","ɵɵlistener","ChangePasswordFormComponent_Template_form_submit_0_listener","$event","ɵɵpureFunction0","directives","DxFormComponent","DxiItemComponent","DxiValidationRuleComponent","DxoLabelComponent","DxoButtonOptionsComponent","DxTemplateDirective","NgIf","DxLoadIndicatorComponent","encapsulation","ChangePasswordFormModule","ChangePasswordFormModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","ngJitMode","ɵɵsetNgModuleScope","declarations","exports"],"mappings":"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","sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { DxFormModule } from 'devextreme-angular/ui/form';\r\nimport { DxLoadIndicatorModule } from 'devextreme-angular/ui/load-indicator';\r\nimport notify from 'devextreme/ui/notify';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../services\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"devextreme-angular/ui/form\";\r\nimport * as i4 from \"devextreme-angular/ui/nested\";\r\nimport * as i5 from \"devextreme-angular/core\";\r\nimport * as i6 from \"@angular/common\";\r\nimport * as i7 from \"devextreme-angular/ui/load-indicator\";\r\nfunction ChangePasswordFormComponent_ng_container_11_ng_container_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelement(1, \"dx-load-indicator\", 13);\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"visible\", true);\r\n} }\r\nfunction ChangePasswordFormComponent_ng_container_11_ng_template_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵtext(0, \"Continue\");\r\n} }\r\nfunction ChangePasswordFormComponent_ng_container_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"div\");\r\n    i0.ɵɵelementStart(2, \"span\", 10);\r\n    i0.ɵɵtemplate(3, ChangePasswordFormComponent_ng_container_11_ng_container_3_Template, 2, 1, \"ng-container\", 11);\r\n    i0.ɵɵtemplate(4, ChangePasswordFormComponent_ng_container_11_ng_template_4_Template, 1, 0, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} if (rf & 2) {\r\n    const _r3 = i0.ɵɵreference(5);\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loading)(\"ngIfElse\", _r3);\r\n} }\r\nconst _c0 = function () { return { stylingMode: \"filled\", placeholder: \"Password\", mode: \"password\" }; };\r\nconst _c1 = function () { return { stylingMode: \"filled\", placeholder: \"Confirm Password\", mode: \"password\" }; };\r\nexport class ChangePasswordFormComponent {\r\n    constructor(authService, router, route) {\r\n        this.authService = authService;\r\n        this.router = router;\r\n        this.route = route;\r\n        this.loading = false;\r\n        this.formData = {};\r\n        this.recoveryCode = '';\r\n        this.confirmPassword = (e) => {\r\n            return e.value === this.formData.password;\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        this.route.paramMap.subscribe(params => {\r\n            this.recoveryCode = params.get('recoveryCode') || '';\r\n        });\r\n    }\r\n    async onSubmit(e) {\r\n        e.preventDefault();\r\n        const { password } = this.formData;\r\n        this.loading = true;\r\n        const result = await this.authService.changePassword(password, this.recoveryCode);\r\n        this.loading = false;\r\n        if (result.isOk) {\r\n            this.router.navigate(['/login-form']);\r\n        }\r\n        else {\r\n            notify(result.message, 'error', 2000);\r\n        }\r\n    }\r\n}\r\nChangePasswordFormComponent.ɵfac = function ChangePasswordFormComponent_Factory(t) { return new (t || ChangePasswordFormComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute)); };\r\nChangePasswordFormComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ChangePasswordFormComponent, selectors: [[\"app-change-passsword-form\"]], decls: 12, vars: 12, consts: [[3, \"submit\"], [3, \"formData\", \"disabled\"], [\"dataField\", \"password\", \"editorType\", \"dxTextBox\", 3, \"editorOptions\"], [\"type\", \"required\", \"message\", \"Password is required\"], [3, \"visible\"], [\"dataField\", \"confirmedPassword\", \"editorType\", \"dxTextBox\", 3, \"editorOptions\"], [\"type\", \"custom\", \"message\", \"Passwords do not match\", 3, \"validationCallback\"], [\"itemType\", \"button\"], [\"width\", \"100%\", \"type\", \"default\", 3, \"useSubmitBehavior\", \"template\"], [4, \"dxTemplate\", \"dxTemplateOf\"], [1, \"dx-button-text\"], [4, \"ngIf\", \"ngIfElse\"], [\"notLoading\", \"\"], [\"width\", \"24px\", \"height\", \"24px\", 3, \"visible\"]], template: function ChangePasswordFormComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"form\", 0);\r\n        i0.ɵɵlistener(\"submit\", function ChangePasswordFormComponent_Template_form_submit_0_listener($event) { return ctx.onSubmit($event); });\r\n        i0.ɵɵelementStart(1, \"dx-form\", 1);\r\n        i0.ɵɵelementStart(2, \"dxi-item\", 2);\r\n        i0.ɵɵelement(3, \"dxi-validation-rule\", 3);\r\n        i0.ɵɵelement(4, \"dxo-label\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"dxi-item\", 5);\r\n        i0.ɵɵelement(6, \"dxi-validation-rule\", 3);\r\n        i0.ɵɵelement(7, \"dxi-validation-rule\", 6);\r\n        i0.ɵɵelement(8, \"dxo-label\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"dxi-item\", 7);\r\n        i0.ɵɵelement(10, \"dxo-button-options\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(11, ChangePasswordFormComponent_ng_container_11_Template, 6, 2, \"ng-container\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"formData\", ctx.formData)(\"disabled\", ctx.loading);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"editorOptions\", i0.ɵɵpureFunction0(10, _c0));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"visible\", false);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"editorOptions\", i0.ɵɵpureFunction0(11, _c1));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"validationCallback\", ctx.confirmPassword);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"visible\", false);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"useSubmitBehavior\", true)(\"template\", \"changePasswordTemplate\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"dxTemplateOf\", \"changePasswordTemplate\");\r\n    } }, directives: [i3.DxFormComponent, i4.DxiItemComponent, i4.DxiValidationRuleComponent, i4.DxoLabelComponent, i4.DxoButtonOptionsComponent, i5.DxTemplateDirective, i6.NgIf, i7.DxLoadIndicatorComponent], encapsulation: 2 });\r\nexport class ChangePasswordFormModule {\r\n}\r\nChangePasswordFormModule.ɵfac = function ChangePasswordFormModule_Factory(t) { return new (t || ChangePasswordFormModule)(); };\r\nChangePasswordFormModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: ChangePasswordFormModule });\r\nChangePasswordFormModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ imports: [[\r\n            CommonModule,\r\n            RouterModule,\r\n            DxFormModule,\r\n            DxLoadIndicatorModule\r\n        ]] });\r\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ChangePasswordFormModule, { declarations: [ChangePasswordFormComponent], imports: [CommonModule,\r\n        RouterModule,\r\n        DxFormModule,\r\n        DxLoadIndicatorModule], exports: [ChangePasswordFormComponent] }); })();\r\n"]},"metadata":{},"sourceType":"module"}